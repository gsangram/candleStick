<!DOCTYPE html>
<html>
    <head>
        <title>candleStick</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <script src="lib/jquery.js" type="text/javascript"></script>
        <script src="lib/moment.js" type="text/javascript"></script>
        <script src="http://d3js.org/d3.v4.min.js"></script>
        <link href="candle.css" rel="stylesheet" type="text/css"/>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
        <!--<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" >-->
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
        <!--<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js"></script>-->

        <link href="nav_bar.css" rel="stylesheet" type="text/css"/>
        <script src="http://techanjs.org/techan.min.js"></script>
        <script src="candleStick.js" type="text/javascript"></script>
    </head>
    <body>
        <h4>Candle stick chart</h4>
        <!--<div id="candledrop"></div>-->
<!--        <div id="candledrop" class="dropdown" style="left: 03%;">
            <button class="btn btn-default dropdown-toggle" type="button" id="menu1" data-toggle="dropdown" style="width: 100px"><b>30 Min</b><span class="caret"></span></button>
            <ul class="dropdown-menu" role="menu" aria-labelledby="menu1" >
                <li role="presentation"><a role="menuitem" tabindex="-1" href="#">1 Min</a></li>
                <li role="presentation"><a role="menuitem" tabindex="-1" href="#">5 Min</a></li>
                <li role="presentation"><a role="menuitem" tabindex="-1" href="#">15 Min</a></li>
                <li role="presentation"><a role="menuitem" tabindex="-1" href="#">30 Min</a></li>  
                <li role="presentation" class="divider"></li>    
                <li role="presentation"><a role="menuitem" tabindex="-1" href="#">1 Hr</a></li>
                <li role="presentation" class="divider"></li>
                <li role="presentation"><a role="menuitem" tabindex="0" href="#">1 D</a></li>
                <li role="presentation"><a role="menuitem" tabindex="-1" href="#">3 D</a></li>
                <li role="presentation"><a role="menuitem" tabindex="-1" href="#">1 W</a></li>
                <li role="presentation"><a role="menuitem" tabindex="-1" href="#">1 MO</a></li>

            </ul>
        </div>-->       
        
        <div class="stx-nav">
            <div id="periodBtn" class="custom-dropdown" data-toggle="dropdown">
                 <!--30 Min<em></em>-->
                <a href="javascript:void(0);" class="dropdown-toggle stx-btn stx-menu-btn stxMenu" data-toggle="dropdown">30 Min<em></em></a>
                <ul id="periodicity" class="periodicity menuSelect menuOutline dropdown-menu">
                    <!--<ul class="dropdown-menu" role="menu" aria-labelledby="menu1" >-->
                    <li>1 D</li>
                    <li>3 D</li>
                    <li>1 W</li>
                    <li>1 Mo</li>
                    <li class="stx-menu-divider"></li>
                    <li>1 Hr</li>
                    <li class="stx-menu-divider"></li>
                    <li>1 Min</li>
                    <li>5 Min</li>
                    <li>15 Min</li>
                    <li>30 Min</li>
                </ul>
            </div>

<!--            <div class="stx-menus">
                <div id="shareBtn" class="stx-btn stx-menu-btn" style=""><span class="stx-ico"></span>Share</div>
                <div class="stx-btn stx-menu-btn stxMenu">
                    Chart<em></em>
                    <ul id="chart-display" class="chart-display menuSelect menuOutline" style="display:none">
                        <li class="stx-heading">Chart Style</li>
                        <li stxtoggle="stxx.setChartType('candle')">Candle</li>
                        <li stxtoggle="stxx.setChartType('bar')">Bar</li>
                        <li stxtoggle="stxx.setChartType('colored_bar')">Colored Bar</li>
                        <li stxtoggle="stxx.setChartType('line')">Line</li>
                        <li stxtoggle="stxx.setChartType('hollow_candle')">Hollow Candle</li>
                        <li stxtoggle="stxx.setChartType('mountain')">Mountain</li>
                        <li class="stx-menu-divider"></li>
                        <li class="stx-heading">Chart Scale</li>
                        <li class="stx-option" stxtoggle="toggleLog()">Log Scale<span class="stx-checkbox stx-logscale false"></span></li>
                    </ul>
                </div>
                <div class="stx-btn stx-menu-btn stxMenu">
                    Studies<em></em>
                    <div id="studies" class="studies menuSelect menuOutline" style="display:none">
                        <ul class="col">
                            <li stxtoggle="studyDialog(this, 'ADX');">ADX/DMS</li>
                            <li stxtoggle="studyDialog(this, 'ATR');">Average True Range</li>
                            <li stxtoggle="studyDialog(this, 'Bollinger Bands');">Bollinger Bands</li>
                            <li stxtoggle="studyDialog(this, 'COG');">Center Of Gravity</li>
                            <li stxtoggle="studyDialog(this, 'Chaikin MF');">Chaikin Money Flow</li>
                            <li stxtoggle="studyDialog(this, 'CCI');">Commodity Channel Index</li>
                            <li stxtoggle="studyDialog(this, 'Ehler Fisher');">Ehler Fisher Transform</li>
                            <li stxtoggle="studyDialog(this, 'Elder Force');">Elder Force Index</li>
                            <li stxtoggle="studyDialog(this, 'Elder Ray');">Elder Ray</li>
                            <li stxtoggle="studyDialog(this, 'Fractal Chaos Bands');">Fractal Chaos Bands</li>
                            <li stxtoggle="studyDialog(this, 'Fractal Chaos');">Fractal Chaos Oscillator</li>
                            <li stxtoggle="studyDialog(this, 'Intraday Mtm');">Intraday Momentum Index</li>
                        </ul>
                        <ul class="col">
                            <li >Keltner Channel</li>
                            <li >Linear Reg Forecast</li>
                            <li >Linear Reg R2</li>
                            <li >MACD</li>
                            <li >Momentum Indicator</li>
                            <li >Money Flow Index</li>
                            <li >Moving Average</li>
                            <li >Moving Average Envelope</li>
                            <li >On Balance Volume</li>
                            <li >Parabolic SAR</li>
                            <li >Price Volume Trend</li>
                            <li >RAVI</li>
                        </ul>
                        <ul class="col">
                            <li >RSI</li>
                            <li >Schaff Trend Cycle</li>
                            <li >Standard Deviation</li>
                            <li >Stochastics</li>
                            <li >Stochastic Momentum Index</li>
                            <li >Swing Index</li>
                            <li >Trade Volume Index</li>
                            <li >Vol Underlay<span class="stx-remove-study" id="vol-undr" style="display: inline-block;"></span></li>
                            <li >Volume</li>
                            <li >Volume Oscillator</li>
                            <li >Volume Rate of Change</li>
                            <li >Williams %R</li>
                        </ul>
                    </div>
                </div>
                <div id="cogBtn" class="stx-btn stx-menu-btn stxMenu">
                    &nbsp;<em></em>
                    <ul id="cog" class="cog menuSelect menuOutline" style="display:none">
                        <li class="stx-heading">Timezone</li>
                        <li ></li>
                        <li class="stx-menu-divider">&nbsp;</li>
                        <li class="stx-heading">Default Themes</li>
                        <li class="stx-menu-content">
                            <ul class="menuSelect" id="builtInThemeSelector"><li>Light</li><li>Dark</li></ul>
                        </li>
                        <li class="stx-menu-content">
                            <ul class="injected" id="customThemeSelector">
                                <li class="stx-heading">Custom Themes</li>
                                <li class="themeSelectorTemplate" style="display:none">
                                    <a class="stxItem"></a>
                                    <div class="stx-btn stx-ico"><span class="stx-ico-close stxClose">x</span></div>
                                </li>
                            </ul>
                        </li>
                        <li class="stx-menu-content"><div class="stx-btn theme" stxtoggle="STX.DialogManager.displayDialog('themeDialog');STX.ThemeManager.populateDialog('themeDialog', stxx);">New Custom Theme</div></li>
                    </ul>
                </div>
                
            </div>-->
        </div>       
         
        <br>    
        <div id="legend_container" >
<!--            <div id="legend_dropdown" class="btn-group">
                <button class="btn btn-default" type="button" id="menu2"><b>select tools</b></button>
                <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
                    <span class="caret"></span></button>
                <ul class="dropdown-menu" role="menu" aria-labelledby="menu2" >
                    <li role="presentation"><a role="menuitem" tabindex="0" href="#">None</a></li>
                    <li role="presentation"><a role="menuitem" tabindex="-1" href="#">Crosshairs</a></li>
                    <li role="presentation"><a role="menuitem" tabindex="-1" href="#">Annotations</a></li>
                </ul>
            </div>       -->
            <div id="legend_values">
                <ul class="price-features" >
                    <li><span class="leg">O:</span><span id="o_ohlc"> </span></li>
                    <li><span class="leg">H:</span><span id="h_ohlc"> </span></li>
                    <li><span class="leg">C:</span><span id="c_ohlc"> </span></li><br>     
                    <li><span class="leg">L:</span><span id="l_ohlc"> </span></li>
                    <li><span class="leg">V:</span><span id="v_ohlc"> </span></li>
                    <li><span class="leg">B:</span><span id="b_ohlc"> </span></li>
                </ul>
            </div>  
        </div>     

        <div id="candle"  style="position: relative">
            <div class="btn-group" style="position: absolute; left: 32%; top: 75%; ">
                <button id="zoomout" class="btn btn-default"><i class="glyphicon glyphicon-minus"> </i></button>
                <button id="zoomin" class="btn btn-default"><i class="glyphicon glyphicon-plus"> </i></button>
            </div>
        </div>

        <script>
            $(document).ready(function () {
                var options = {
                    container: "#candle",
                    header: "Candle stick chart",
                    data: "candle.json",
//                    data: [{
//        "Date": "2011-08-01",
//        "Open": "136.65",
//        "High": "136.96",
//        "Low": "134.15",
//        "Close": "136.49",
//        "Volume": "37617413"
//      }, {
//        "Date": "2011-08-02",
//        "Open": "135.26",
//        "High": "135.95",
//        "Low": "131.50",
//        "Close": "131.85",
//        "Volume": "42442096"
//      }, {
//        "Date": "2011-08-05",
//        "Open": "132.90",
//        "High": "135.27",
//        "Low": "128.30",
//        "Close": "135.25",
//        "Volume": "47352368"
//      }, {
//        "Date": "2011-08-06",
//        "Open": "134.94",
//        "High": "137.24",
//        "Low": "132.63",
//        "Close": "135.03",
//        "Volume": "36513991"
//      }, {
//        "Date": "2011-08-07",
//        "Open": "136.76",
//        "High": "136.86",
//        "Low": "132.00",
//        "Close": "134.01",
//        "Volume": "32216707"
//      }, {
//        "Date": "2011-08-08",
//        "Open": "131.11",
//        "High": "133.00",
//        "Low": "125.09",
//        "Close": "126.39",
//        "Volume": "35995537"
//      }, {
//        "Date": "2011-08-09",
//        "Open": "123.12",
//        "High": "127.75",
//        "Low": "120.30",
//        "Close": "125.00",
//        "Volume": "45283577"
//      }, {
//        "Date": "2011-08-12",
//        "Open": "128.32",
//        "High": "129.35",
//        "Low": "126.50",
//        "Close": "127.79",
//        "Volume": "42699670"
//      }, {
//        "Date": "2011-08-13",
//        "Open": "128.29",
//        "High": "128.30",
//        "Low": "123.71",
//        "Close": "124.03",
//        "Volume": "47795088"
//      }, {
//        "Date": "2011-08-14",
//        "Open": "122.74",
//        "High": "124.86",
//        "Low": "119.65",
//        "Close": "119.90",
//        "Volume": "55681663"
//      }, {
//        "Date": "2011-08-15",
//        "Open": "117.01",
//        "High": "118.50",
//        "Low": "111.62",
//        "Close": "117.05",
//        "Volume": "38293993"
//      }, {
//        "Date": "2011-08-16",
//        "Open": "122.01",
//        "High": "123.50",
//        "Low": "119.82",
//        "Close": "122.06",
//        "Volume": "54200116"
//      }, {
//        "Date": "2011-08-19",
//        "Open": "123.96",
//        "High": "124.50",
//        "Low": "120.50",
//        "Close": "122.22",
//        "Volume": "58991505"
//      }, {
//        "Date": "2011-08-20",
//        "Open": "122.21",
//        "High": "128.96",
//        "Low": "121.00",
//        "Close": "127.57",
//        "Volume": "53931469"
//      }, {
//        "Date": "2011-08-21",
//        "Open": "131.22",
//        "High": "132.75",
//        "Low": "130.33",
//        "Close": "132.51",
//        "Volume": "43033925"
//      }, {
//        "Date": "2011-08-22",
//        "Open": "133.09",
//        "High": "133.34",
//        "Low": "129.76",
//        "Close": "131.07",
//        "Volume": "47933075"
//      }, {
//        "Date": "2011-08-23",
//        "Open": "130.53",
//        "High": "135.37",
//        "Low": "129.81",
//        "Close": "135.30",
//        "Volume": "56813940"
//      }, {
//        "Date": "2011-08-26",
//        "Open": "133.39",
//        "High": "134.66",
//        "Low": "132.10",
//        "Close": "132.25",
//        "Volume": "47428583"
//      }],
                    height: 400,
                    width: 1000,
                    margin: {top: 20, right: 50, bottom: 30, left: 50},
                    ohlc: {height: 305},
                    indicator: {height: 65, padding: 5},
                }
//                console.log(options , "options in html");
                loadCandleChart(options);
            });
        </script>
    </body>
</html>